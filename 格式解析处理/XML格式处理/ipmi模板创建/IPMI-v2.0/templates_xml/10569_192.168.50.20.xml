<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
	<version>5.0</version>
	<groups>
		<group>
			<name>IPMI</name>
		</group>
	</groups>
	<templates>
		<template>
			<template>Template 10569_192.168.50.20 of IPMI</template>
			<name>Template 10569_192.168.50.20 of IPMI</name>
			<groups>
				<group>
					<name>IPMI</name>
				</group>
			</groups>
			<applications>
				<application>
					<name>fan</name>
				</application>
				<application>
					<name>temperature</name>
				</application>
				<application>
					<name>voltage</name>
				</application>
				<application>
					<name>physical_security</name>
				</application>
				<application>
					<name>power_supply</name>
				</application>
				<application>
					<name>IPMI_LLD</name>
				</application>
			</applications>
			<items>
				<item>
					<name>IPMI Discovery</name>
					<type>IPMI</type>
					<key>ipmi.get</key>
					<history>2h</history>
					<value_type>TEXT</value_type>
					<applications>
						<application>
							<name>IPMI_LLD</name>
						</application>
					</applications>
				</item>
			</items>
			<discovery_rules>
				<discovery_rule>
					<name>IPMI Discovery: Fan</name>
					<type>DEPENDENT</type>
					<key>ipmi.sensor.discovery.fan</key>
					<delay>0</delay>
					<lifetime>7d</lifetime>
					<master_item>
						<key>ipmi.get</key>
					</master_item>
					<filter>
						<conditions>
							<condition>
								<macro>{#SENSOR_TYPE}</macro>
								<value>^4$</value>
								<formulaid>B</formulaid>
							</condition>
							<condition>
								<macro>{#READING_TYPE}</macro>
								<value>^1$</value>
								<formulaid>A</formulaid>
							</condition>
						</conditions>
					</filter>
					<item_prototypes>
						<item_prototype>
							<preprocessing>
								<step>
									<type>JSONPATH</type>
									<params>$.[?(@.id=='{#SENSOR_ID}')].first()</params>
								</step>
							</preprocessing>
							<name>风扇传感器: {#SENSOR_ID}的当前状态值</name>
							<type>DEPENDENT</type>
							<key>ipmi.sensor.fan[{#SENSOR_ID}]</key>
							<delay>0</delay>
							<history>7d</history>
							<value_type>TEXT</value_type>
							<applications>
								<application>
									<name>fan</name>
								</application>
							</applications>
							<master_item>
								<key>ipmi.get</key>
							</master_item>
						</item_prototype>
					</item_prototypes>
					<lld_macro_paths>
						<lld_macro_path>
							<lld_macro>{#READING_TYPE}</lld_macro>
							<path>$.reading.type</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#SENSOR_ID}</lld_macro>
							<path>$.id</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#SENSOR_NAME}</lld_macro>
							<path>$.name</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#SENSOR_TYPE_STR}</lld_macro>
							<path>$.sensor.text</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#SENSOR_TYPE}</lld_macro>
							<path>$.sensor.type</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#SENSOR_UNIT}</lld_macro>
							<path>$.units</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#THRESH_HIGH_AVG}</lld_macro>
							<path>$.threshold.upper.crit</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#THRESH_HIGH_CRIT}</lld_macro>
							<path>$.threshold.upper.non_recover</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#THRESH_HIGH_WARN}</lld_macro>
							<path>$.threshold.upper.non_crit</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#THRESH_LOW_AVG}</lld_macro>
							<path>$.threshold.lower.crit</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#THRESH_LOW_CRIT}</lld_macro>
							<path>$.threshold.lower.non_recover</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#THRESH_LOW_WARN}</lld_macro>
							<path>$.threshold.lower.non_crit</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#STATE_TEXT}</lld_macro>
							<path>$.state.text</path>
						</lld_macro_path>
					</lld_macro_paths>
				</discovery_rule>
				<discovery_rule>
					<name>IPMI Discovery: Temperature</name>
					<type>DEPENDENT</type>
					<key>ipmi.sensor.discovery.temperature</key>
					<delay>0</delay>
					<lifetime>7d</lifetime>
					<master_item>
						<key>ipmi.get</key>
					</master_item>
					<filter>
						<conditions>
							<condition>
								<macro>{#SENSOR_TYPE}</macro>
								<value>^1$</value>
								<formulaid>B</formulaid>
							</condition>
							<condition>
								<macro>{#READING_TYPE}</macro>
								<value>^1$</value>
								<formulaid>A</formulaid>
							</condition>
						</conditions>
					</filter>
					<item_prototypes>
						<item_prototype>
							<preprocessing>
								<step>
									<type>JSONPATH</type>
									<params>$.[?(@.id=='{#SENSOR_ID}')].first()</params>
								</step>
							</preprocessing>
							<name>温度传感器: {#SENSOR_ID}的当前状态值</name>
							<type>DEPENDENT</type>
							<key>ipmi.sensor.temperature[{#SENSOR_ID}]</key>
							<delay>0</delay>
							<history>7d</history>
							<value_type>TEXT</value_type>
							<applications>
								<application>
									<name>temperature</name>
								</application>
							</applications>
							<master_item>
								<key>ipmi.get</key>
							</master_item>
						</item_prototype>
					</item_prototypes>
					<lld_macro_paths>
						<lld_macro_path>
							<lld_macro>{#READING_TYPE}</lld_macro>
							<path>$.reading.type</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#SENSOR_ID}</lld_macro>
							<path>$.id</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#SENSOR_NAME}</lld_macro>
							<path>$.name</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#SENSOR_TYPE_STR}</lld_macro>
							<path>$.sensor.text</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#SENSOR_TYPE}</lld_macro>
							<path>$.sensor.type</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#SENSOR_UNIT}</lld_macro>
							<path>$.units</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#THRESH_HIGH_AVG}</lld_macro>
							<path>$.threshold.upper.crit</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#THRESH_HIGH_CRIT}</lld_macro>
							<path>$.threshold.upper.non_recover</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#THRESH_HIGH_WARN}</lld_macro>
							<path>$.threshold.upper.non_crit</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#THRESH_LOW_AVG}</lld_macro>
							<path>$.threshold.lower.crit</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#THRESH_LOW_CRIT}</lld_macro>
							<path>$.threshold.lower.non_recover</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#THRESH_LOW_WARN}</lld_macro>
							<path>$.threshold.lower.non_crit</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#STATE_TEXT}</lld_macro>
							<path>$.state.text</path>
						</lld_macro_path>
					</lld_macro_paths>
				</discovery_rule>
				<discovery_rule>
					<name>IPMI Discovery: Voltage</name>
					<type>DEPENDENT</type>
					<key>ipmi.sensor.discovery.voltage</key>
					<delay>0</delay>
					<lifetime>7d</lifetime>
					<master_item>
						<key>ipmi.get</key>
					</master_item>
					<filter>
						<conditions>
							<condition>
								<macro>{#SENSOR_TYPE}</macro>
								<value>^2$</value>
								<formulaid>B</formulaid>
							</condition>
							<condition>
								<macro>{#READING_TYPE}</macro>
								<value>^1$</value>
								<formulaid>A</formulaid>
							</condition>
						</conditions>
					</filter>
					<item_prototypes>
						<item_prototype>
							<preprocessing>
								<step>
									<type>JSONPATH</type>
									<params>$.[?(@.id=='{#SENSOR_ID}')].first()</params>
								</step>
							</preprocessing>
							<name>电压传感器: {#SENSOR_ID}的当前状态值</name>
							<type>DEPENDENT</type>
							<key>ipmi.sensor.voltage[{#SENSOR_ID}]</key>
							<delay>0</delay>
							<history>7d</history>
							<value_type>TEXT</value_type>
							<applications>
								<application>
									<name>voltage</name>
								</application>
							</applications>
							<master_item>
								<key>ipmi.get</key>
							</master_item>
						</item_prototype>
					</item_prototypes>
					<lld_macro_paths>
						<lld_macro_path>
							<lld_macro>{#READING_TYPE}</lld_macro>
							<path>$.reading.type</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#SENSOR_ID}</lld_macro>
							<path>$.id</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#SENSOR_NAME}</lld_macro>
							<path>$.name</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#SENSOR_TYPE_STR}</lld_macro>
							<path>$.sensor.text</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#SENSOR_TYPE}</lld_macro>
							<path>$.sensor.type</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#SENSOR_UNIT}</lld_macro>
							<path>$.units</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#THRESH_HIGH_AVG}</lld_macro>
							<path>$.threshold.upper.crit</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#THRESH_HIGH_CRIT}</lld_macro>
							<path>$.threshold.upper.non_recover</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#THRESH_HIGH_WARN}</lld_macro>
							<path>$.threshold.upper.non_crit</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#THRESH_LOW_AVG}</lld_macro>
							<path>$.threshold.lower.crit</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#THRESH_LOW_CRIT}</lld_macro>
							<path>$.threshold.lower.non_recover</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#THRESH_LOW_WARN}</lld_macro>
							<path>$.threshold.lower.non_crit</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#STATE_TEXT}</lld_macro>
							<path>$.state.text</path>
						</lld_macro_path>
					</lld_macro_paths>
				</discovery_rule>
				<discovery_rule>
					<name>IPMI Discovery: Physical Security</name>
					<type>DEPENDENT</type>
					<key>ipmi.sensor.discovery.physical_security</key>
					<delay>0</delay>
					<lifetime>7d</lifetime>
					<master_item>
						<key>ipmi.get</key>
					</master_item>
					<filter>
						<conditions>
							<condition>
								<macro>{#SENSOR_TYPE}</macro>
								<value>^5$</value>
								<formulaid>B</formulaid>
							</condition>
							<condition>
								<macro>{#READING_TYPE}</macro>
								<value>^111$</value>
								<formulaid>A</formulaid>
							</condition>
						</conditions>
					</filter>
					<item_prototypes>
						<item_prototype>
							<preprocessing>
								<step>
									<type>JSONPATH</type>
									<params>$.[?(@.id=='{#SENSOR_ID}')].first()</params>
								</step>
							</preprocessing>
							<name>物理健康传感器: {#SENSOR_ID}的当前状态值</name>
							<type>DEPENDENT</type>
							<key>ipmi.sensor.physical_security[{#SENSOR_ID}]</key>
							<delay>0</delay>
							<history>7d</history>
							<value_type>TEXT</value_type>
							<applications>
								<application>
									<name>physical_security</name>
								</application>
							</applications>
							<master_item>
								<key>ipmi.get</key>
							</master_item>
						</item_prototype>
					</item_prototypes>
					<lld_macro_paths>
						<lld_macro_path>
							<lld_macro>{#READING_TYPE}</lld_macro>
							<path>$.reading.type</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#SENSOR_ID}</lld_macro>
							<path>$.id</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#SENSOR_NAME}</lld_macro>
							<path>$.name</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#SENSOR_TYPE_STR}</lld_macro>
							<path>$.sensor.text</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#SENSOR_TYPE}</lld_macro>
							<path>$.sensor.type</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#SENSOR_UNIT}</lld_macro>
							<path>$.units</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#THRESH_HIGH_AVG}</lld_macro>
							<path>$.threshold.upper.crit</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#THRESH_HIGH_CRIT}</lld_macro>
							<path>$.threshold.upper.non_recover</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#THRESH_HIGH_WARN}</lld_macro>
							<path>$.threshold.upper.non_crit</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#THRESH_LOW_AVG}</lld_macro>
							<path>$.threshold.lower.crit</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#THRESH_LOW_CRIT}</lld_macro>
							<path>$.threshold.lower.non_recover</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#THRESH_LOW_WARN}</lld_macro>
							<path>$.threshold.lower.non_crit</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#STATE_TEXT}</lld_macro>
							<path>$.state.text</path>
						</lld_macro_path>
					</lld_macro_paths>
				</discovery_rule>
				<discovery_rule>
					<name>IPMI Discovery: Power Supply</name>
					<type>DEPENDENT</type>
					<key>ipmi.sensor.discovery.power_supply</key>
					<delay>0</delay>
					<lifetime>7d</lifetime>
					<master_item>
						<key>ipmi.get</key>
					</master_item>
					<filter>
						<conditions>
							<condition>
								<macro>{#SENSOR_TYPE}</macro>
								<value>^8$</value>
								<formulaid>B</formulaid>
							</condition>
							<condition>
								<macro>{#READING_TYPE}</macro>
								<value>^111$</value>
								<formulaid>A</formulaid>
							</condition>
						</conditions>
					</filter>
					<item_prototypes>
						<item_prototype>
							<preprocessing>
								<step>
									<type>JSONPATH</type>
									<params>$.[?(@.id=='{#SENSOR_ID}')].first()</params>
								</step>
							</preprocessing>
							<name>电源传感器: {#SENSOR_ID}的当前状态值</name>
							<type>DEPENDENT</type>
							<key>ipmi.sensor.power_supply[{#SENSOR_ID}]</key>
							<delay>0</delay>
							<history>7d</history>
							<value_type>TEXT</value_type>
							<applications>
								<application>
									<name>power_supply</name>
								</application>
							</applications>
							<master_item>
								<key>ipmi.get</key>
							</master_item>
						</item_prototype>
					</item_prototypes>
					<lld_macro_paths>
						<lld_macro_path>
							<lld_macro>{#READING_TYPE}</lld_macro>
							<path>$.reading.type</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#SENSOR_ID}</lld_macro>
							<path>$.id</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#SENSOR_NAME}</lld_macro>
							<path>$.name</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#SENSOR_TYPE_STR}</lld_macro>
							<path>$.sensor.text</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#SENSOR_TYPE}</lld_macro>
							<path>$.sensor.type</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#SENSOR_UNIT}</lld_macro>
							<path>$.units</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#THRESH_HIGH_AVG}</lld_macro>
							<path>$.threshold.upper.crit</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#THRESH_HIGH_CRIT}</lld_macro>
							<path>$.threshold.upper.non_recover</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#THRESH_HIGH_WARN}</lld_macro>
							<path>$.threshold.upper.non_crit</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#THRESH_LOW_AVG}</lld_macro>
							<path>$.threshold.lower.crit</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#THRESH_LOW_CRIT}</lld_macro>
							<path>$.threshold.lower.non_recover</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#THRESH_LOW_WARN}</lld_macro>
							<path>$.threshold.lower.non_crit</path>
						</lld_macro_path>
						<lld_macro_path>
							<lld_macro>{#STATE_TEXT}</lld_macro>
							<path>$.state.text</path>
						</lld_macro_path>
					</lld_macro_paths>
				</discovery_rule>
			</discovery_rules>
		</template>
	</templates>
</zabbix_export>
